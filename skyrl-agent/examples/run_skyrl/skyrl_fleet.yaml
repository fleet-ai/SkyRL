# Fleet Task Training Configuration
# Usage: See run_fleet.sh for launch instructions

agent_cls: skyrl_agent.agents.react.ReActAgent

task: skyrl_agent.tasks.fleet.FleetTask

tools:
  enable_bash_tool: false
  enable_browsing: false
  enable_llm_editor: false
  enable_editor: false
  enable_jupyter: false
  enable_cmd: false
  enable_think: false
  enable_finish: true
  enable_mcp: true  # Fleet uses MCP tools
  enable_search: false

data:
  instance_key: instance
  instance_id_key: instance.task_key
  data_source_key: data_source

generator:
  infer_backend: skyrl-train
  backend_config: null
  num_trajectories: 4
  max_iterations: 50
  max_prompt_length: 4096
  sampling_params:
    temperature: 0.6
    top_p: 0.95
    top_k: -1
    max_tokens: 2048
  val_config:
    num_trajectories: 1
    sampling_params:
      temperature: 0
      top_p: 0.95
      max_tokens: 2048
  remove_think_tokens: false
  vision_is_active: false

dispatcher:
  type: async_pipeline
  scheduler: naive
  max_parallel_agents: 32
  max_eval_parallel_agents: 32
  val_config:
    max_parallel_agents: 16
    max_eval_parallel_agents: 16

# Fleet-specific configuration
fleet:
  tasks_file: "${TASKS_FILE}"
  api_key: "${FLEET_API_KEY}"
  ttl_seconds: 600
  env_key_filter: "${ENV_KEY:-}"
  max_tasks: "${MAX_TASKS:-}"
